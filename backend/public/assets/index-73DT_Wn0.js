(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const h="/api",p=document.getElementById("amount"),s=document.getElementById("fromCurrency"),i=document.getElementById("toCurrency"),m=document.getElementById("result"),E=m.querySelector("p"),l=document.getElementById("error"),f=document.getElementById("theme-toggle"),g=document.getElementById("theme-icon");function y(t){g.innerHTML=t?`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
         d="M21.752 15.002A9.72 9.72 0 0 1 12 21.75c-5.385 
            0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 
            9.753 0 0 0 3 12c0 5.385 4.365 9.75 
            9.75 9.75s9.75-4.365 9.75-9.75c0-.837-.104-1.653-.298-2.435"></path>`:`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
         d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 
            6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 
            0l-.707.707M6.343 17.657l-.707.707M16 
            12a4 4 0 11-8 0 4 4 0 018 0z"></path>`}function L(){const t=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",t?"dark":"light"),y(t)}const w=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),v=w==="dark";document.documentElement.classList.toggle("dark",v);y(v);f&&g&&f.addEventListener("click",L);async function I(){try{const t=await fetch(`${h}/currencies`);if(!t.ok)throw new Error("Failed to fetch currencies");const r=await t.json();s.innerHTML=r.map(n=>`<option value="${n}">${n}</option>`).join(""),i.innerHTML=r.map(n=>`<option value="${n}">${n}</option>`).join(""),s.value="USD",i.value="EUR",a()}catch{u("Failed to load currencies")}}async function a(){const t=parseFloat(p.value),r=s.value,n=i.value;if(!t||t<=0){u("Please enter a positive amount");return}try{const c=await fetch(`${h}/convert?from=${r}&to=${n}&amount=${t}`);if(!c.ok)throw new Error("Conversion failed");const e=await c.json();E.textContent=`${t} ${r} = ${e.result.toFixed(2)} ${n}`,m.classList.remove("hidden"),l.classList.add("hidden")}catch{u("Conversion failed. Please try again.")}}function u(t){l.textContent=t,l.classList.remove("hidden"),m.classList.add("hidden")}p.addEventListener("input",a);s.addEventListener("change",a);i.addEventListener("change",a);I();
